// 互动点子库
// 运行说明：
// 1. 在微信开发者工具中，选择"导入项目"
// 2. 选择当前项目文件夹（mygame）
// 3. 填写AppID（测试可以使用测试号）
// 4. 点击"确定"即可运行

// 24点算术预设组合（部分常用组合，用于预加载）
const COMMON_GAME24_COMBINATIONS = [
  [1,1,1,8], [1,1,2,6], [1,1,2,7], [1,1,2,8], [1,1,3,4], [1,1,3,5], [1,1,3,6], [1,1,3,7],
  [1,1,3,8], [1,1,4,4], [1,1,4,5], [1,1,4,6], [1,1,4,7], [1,1,4,8], [1,1,5,5], [1,1,5,6],
  [1,1,5,7], [1,1,5,8], [1,1,6,6], [1,1,6,8], [1,1,6,9], [1,1,7,10], [1,1,8,8], [1,2,2,4],
  [1,2,2,5], [1,2,2,6], [1,2,2,7], [1,2,2,8], [1,2,3,3], [1,2,3,4], [1,2,3,5], [1,2,3,6],
  [1,2,3,7], [1,2,3,8], [1,2,4,4], [1,2,4,5], [1,2,4,6], [1,2,4,7], [1,2,4,8], [1,2,5,5],
  [1,2,5,6], [1,2,5,7], [1,2,5,8], [1,2,6,6], [1,2,6,7], [1,2,6,8], [1,2,7,7], [1,2,7,8],
  [1,2,8,8], [1,3,3,3], [1,3,3,4], [1,3,3,5], [1,3,3,6], [1,3,3,7], [1,3,3,8], [1,3,4,4],
  [1,3,4,5], [1,3,4,6], [1,3,4,7], [1,3,4,8], [1,3,5,6], [1,3,5,7], [1,3,5,8], [1,3,6,6],
  [1,3,6,7], [1,3,6,8], [1,3,7,7], [1,3,7,8], [1,3,8,8], [1,4,4,4], [1,4,4,5], [1,4,4,6],
  [1,4,4,7], [1,4,4,8], [1,4,5,5], [1,4,5,6], [1,4,5,7], [1,4,5,8], [1,4,6,6], [1,4,6,7],
  [1,4,6,8], [1,4,7,7], [1,4,7,8], [1,4,8,8], [1,5,5,5], [1,5,5,6], [1,5,5,9], [1,5,6,6],
  [1,5,6,7], [1,5,6,8], [1,5,7,8], [1,5,8,8], [1,6,6,6], [1,6,6,8], [1,6,6,9], [1,6,7,9],
  [1,6,8,8], [1,6,8,9], [1,7,7,9], [1,7,8,8], [1,8,8,8], [2,2,2,3], [2,2,2,4], [2,2,2,5],
  [2,2,2,7], [2,2,2,8], [2,2,3,3], [2,2,3,4], [2,2,3,5], [2,2,3,6], [2,2,3,7], [2,2,3,8],
  [2,2,4,4], [2,2,4,5], [2,2,4,6], [2,2,4,7], [2,2,4,8], [2,2,5,5], [2,2,5,6], [2,2,5,7],
  [2,2,5,8], [2,2,6,6], [2,2,6,7], [2,2,6,8], [2,2,7,7], [2,2,7,8], [2,2,8,8], [2,3,3,3],
  [2,3,3,5], [2,3,3,6], [2,3,3,7], [2,3,3,8], [2,3,4,4], [2,3,4,5], [2,3,4,6], [2,3,4,7],
  [2,3,4,8], [2,3,5,5], [2,3,5,6], [2,3,5,7], [2,3,5,8], [2,3,6,6], [2,3,6,7], [2,3,6,8],
  [2,3,7,7], [2,3,7,8], [2,3,8,8], [2,4,4,4], [2,4,4,5], [2,4,4,6], [2,4,4,7], [2,4,4,8],
  [2,4,5,5], [2,4,5,6], [2,4,5,7], [2,4,5,8], [2,4,6,6], [2,4,6,7], [2,4,6,8], [2,4,7,7],
  [2,4,7,8], [2,4,8,8], [2,5,5,7], [2,5,5,8], [2,5,6,6], [2,5,6,7], [2,5,6,8], [2,5,7,7],
  [2,5,7,8], [2,5,8,8], [2,6,6,6], [2,6,6,7], [2,6,6,8], [2,6,7,8], [2,6,8,8], [2,7,7,8],
  [2,7,8,8], [3,3,3,3], [3,3,3,6], [3,3,3,7], [3,3,3,8], [3,3,4,4], [3,3,4,5], [3,3,4,6],
  [3,3,4,7], [3,3,4,8], [3,3,5,5], [3,3,5,6], [3,3,5,7], [3,3,5,8], [3,3,6,6], [3,3,6,7],
  [3,3,6,8], [3,3,7,7], [3,3,7,8], [3,3,8,8], [3,4,4,4], [3,4,4,5], [3,4,4,6], [3,4,4,7],
  [3,4,4,8], [3,4,5,5], [3,4,5,6], [3,4,5,7], [3,4,5,8], [3,4,6,6], [3,4,6,7], [3,4,6,8],
  [3,4,7,7], [3,4,7,8], [3,4,8,8], [3,5,5,5], [3,5,5,6], [3,5,5,7], [3,5,5,8], [3,5,6,6],
  [3,5,6,7], [3,5,6,8], [3,5,7,7], [3,5,7,8], [3,5,8,8], [3,6,6,6], [3,6,6,7], [3,6,6,8],
  [3,6,7,7], [3,6,7,8], [3,6,8,8], [3,7,7,7], [3,7,7,8], [3,7,8,8], [3,8,8,8], [4,4,4,4],
  [4,4,4,5], [4,4,4,6], [4,4,4,7], [4,4,4,8], [4,4,5,5], [4,4,5,6], [4,4,5,7], [4,4,5,8],
  [4,4,6,6], [4,4,6,7], [4,4,6,8], [4,4,7,7], [4,4,7,8], [4,4,8,8], [4,5,5,5], [4,5,5,6],
  [4,5,5,7], [4,5,5,8], [4,5,6,6], [4,5,6,7], [4,5,6,8], [4,5,7,7], [4,5,7,8], [4,5,8,8],
  [4,6,6,6], [4,6,6,7], [4,6,6,8], [4,6,7,7], [4,6,7,8], [4,6,8,8], [4,7,7,7], [4,7,7,8],
  [4,7,8,8], [4,8,8,8], [5,5,5,5], [5,5,5,6], [5,5,5,7], [5,5,5,8], [5,5,6,6], [5,5,6,7],
  [5,5,6,8], [5,5,7,7], [5,5,7,8], [5,5,8,8], [5,6,6,6], [5,6,6,7], [5,6,6,8], [5,6,7,7],
  [5,6,7,8], [5,6,8,8], [5,7,7,7], [5,7,7,8], [5,7,8,8], [5,8,8,8], [6,6,6,6], [6,6,6,7],
  [6,6,6,8], [6,6,7,7], [6,6,7,8], [6,6,8,8], [6,7,7,7], [6,7,7,8], [6,7,8,8], [6,8,8,8],
  [7,7,7,7], [7,7,7,8], [7,7,8,8], [7,8,8,8], [8,8,8,8]
];

App({
  onLaunch() {
    console.log('小程序启动')
    
    // 预加载数据，避免第一次点击脑子tab时卡顿
    this.preloadData();
  },
  
  // 预加载数据方法
  preloadData() {
    console.log('开始预加载数据...');
    
    // 1. 预加载24点算术组合数据
    this.globalData.game24Combinations = COMMON_GAME24_COMBINATIONS;
    
    // 2. 初始化本地存储（如果不存在）
    const usedIndices = wx.getStorageSync('game24_used_indices');
    if (!usedIndices) {
      wx.setStorageSync('game24_used_indices', []);
    }
    
    // 3. 预计算一些常用的24点答案（可选）
    // 这里可以预计算一些简单的组合，减少首次加载时的计算量
    
    console.log('预加载完成');
  },
  
  globalData: {
    userInfo: null,
    game24Combinations: [], // 24点算术组合数据
    preloaded: false // 预加载状态
  }
})
